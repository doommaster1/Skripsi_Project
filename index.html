<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SLA Prediction System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 0 20px 20px 0;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .logo {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px 0;
        }

        .logo h2 {
            color: #4a5568;
            font-weight: 700;
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .logo p {
            color: #718096;
            font-size: 0.9rem;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-item {
            margin-bottom: 8px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            color: #4a5568;
            text-decoration: none;
            border-radius: 12px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-link:hover, .nav-link.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            transform: translateX(5px);
        }

        .nav-link i {
            margin-right: 12px;
            width: 20px;
            font-size: 1.1rem;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .header h1 {
            color: #2d3748;
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .header p {
            color: #718096;
        }

        .content-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
            display: none;
        }

        .content-section.active {
            display: block;
        }

        /* Dashboard Styles */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            opacity: 0.8;
        }

        .stat-card h3 {
            font-size: 2rem;
            margin-bottom: 8px;
        }

        .ticket-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .ticket-table th, .ticket-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        .ticket-table th {
            background: #f7fafc;
            font-weight: 600;
            color: #4a5568;
        }

        .priority-high { color: #e53e3e; }
        .priority-medium { color: #f6ad55; }
        .priority-low { color: #48bb78; }

         /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 40px;
            width: 90%;
            max-width: 800px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
        }

        .modal-header h2 {
            color: #2d3748;
            font-size: 1.8rem;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: #718096;
            transition: color 0.3s ease;
        }

        .close-btn:hover {
            color: #e53e3e;
        }

        .detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .detail-item {
            background: linear-gradient(135deg, #f7fafc, #edf2f7);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }

        .detail-item h4 {
            color: #4a5568;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .detail-item p {
            color: #2d3748;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .detail-item.violated {
            border-left-color: #e53e3e;
            background: linear-gradient(135deg, #fed7d7, #fbb6ce);
        }

        .detail-item.safe {
            border-left-color: #48bb78;
            background: linear-gradient(135deg, #c6f6d5, #9ae6b4);
        }

        .detail-item.warning {
            border-left-color: #f6ad55;
            background: linear-gradient(135deg, #fed7aa, #fbd38d);
        }

        .ticket-info {
            background: rgba(102, 126, 234, 0.1);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            border: 1px solid #667eea;
        }

        .ticket-info p {
            color: #4a5568;
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .ticket-info strong {
            color: #2d3748;
        }

        .badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-right: 8px;
            margin-bottom: 10px;
        }

        .badge-high {
            background: #fed7d7;
            color: #742a2a;
        }

        .badge-medium {
            background: #fed7aa;
            color: #7c2d12;
        }

        .badge-low {
            background: #c6f6d5;
            color: #22543d;
        }

        .metrics-section {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
            border: 2px solid #e2e8f0;
        }

        .metrics-section h3 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .metrics-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .metrics-row:last-child {
            border-bottom: none;
        }

        .metrics-label {
            color: #718096;
            font-weight: 500;
        }

        .metrics-value {
            color: #2d3748;
            font-weight: 700;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #4a5568;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .prediction-result {
            margin-top: 30px;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            display: none;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            border: 2px solid;
        }

        .prediction-safe {
            background: linear-gradient(135deg, #c6f6d5, #9ae6b4);
            color: #22543d;
            border-color: #38a169;
        }

        .prediction-violation {
            background: linear-gradient(135deg, #fed7d7, #fbb6ce);
            color: #742a2a;
            border-color: #c53030;
        }

        .prediction-result h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .prediction-result h4 {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .prediction-result ul {
            font-size: 0.95rem;
            line-height: 1.6;
        }

        /* Analytics Styles */
        .chart-container {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            height: 400px;
            position: relative;
        }

        .chart-container h4 {
            margin-bottom: 20px;
            color: #2d3748;
            font-size: 1.2rem;
            font-weight: 600;
            text-align: center;
        }

        .chart-container canvas {
            max-height: 320px !important;
        }

        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 25px;
        }

        /* Cluster Cards */
        .cluster-cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .cluster-card {
            color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .cluster-card:hover {
            transform: translateY(-5px);
        }

        .cluster-card h4 {
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .cluster-card p {
            line-height: 1.6;
            margin-bottom: 10px;
        }

        /* About Styles */
        .about-content {
            line-height: 1.8;
            color: #4a5568;
        }

        .about-content h3 {
            color: #2d3748;
            margin: 20px 0 10px 0;
        }

        .feature-list {
            list-style: none;
            margin: 20px 0;
        }

        .feature-list li {
            padding: 10px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .feature-list li:before {
            content: "‚úì";
            color: #48bb78;
            font-weight: bold;
            margin-right: 10px;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                border-radius: 0;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .chart-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                width: 95%;
                padding: 25px;
            }

            .detail-grid {
                grid-template-columns: 1fr;
            }

            .cluster-cards-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="logo">
                <h2>SLA Predictor</h2>
                <p>Incident Management System</p>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#" class="nav-link active" data-section="dashboard">
                        <i class="fas fa-tachometer-alt"></i>
                        Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="prediction">
                        <i class="fas fa-brain"></i>
                        Prediksi SLA
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="analytics">
                        <i class="fas fa-chart-bar"></i>
                        Analitik & Visualisasi
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="about">
                        <i class="fas fa-info-circle"></i>
                        Tentang Aplikasi
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <div class="header">
                <h1 id="page-title">Dashboard</h1>
                <p id="page-description">Selamat datang di sistem prediksi pelanggaran SLA</p>
            </div>

            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-ticket-alt"></i>
                        <h3>49.836</h3>
                        <p>Total Tiket</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-exclamation-triangle"></i>
                        <h3>11.107</h3>
                        <p>Pelanggaran SLA</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-check-circle"></i>
                        <h3>38.729</h3>
                        <p>Dalam SLA</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-percentage"></i>
                        <h3>85.2%</h3>
                        <p>SLA Compliance</p>
                    </div>
                </div>

                <h3>Daftar Tiket Insiden Terbaru</h3>
                <table class="ticket-table">
                    <thead>
                        <tr>
                            <th>ID Tiket</th>
                            <th>Item</th>
                            <th>Prioritas</th>
                            <th>Kategori</th>
                            <th>Dibuat</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody>
                       <tr>
                            <td>#INC-001</td>
                            <td>Server Database Down</td>
                            <td><span class="priority-high">High</span></td>
                            <td>Infrastructure</td>
                            <td>02/01/2024 16:09:00</td>
                            <td><button class="btn" onclick="viewTicketDetail('INC-001', 'High')">Detail</button></td>
                        </tr>
                        <tr>
                            <td>#INC-002</td>
                            <td>Email Service Error</td>
                            <td><span class="priority-medium">Medium</span></td>
                            <td>Application</td>
                            <td>17/04/2024 18:10:00</td>
                            <td><button class="btn" onclick="viewTicketDetail('INC-002', 'Medium')">Detail</button></td>
                        </tr>
                        <tr>
                            <td>#INC-003</td>
                            <td>Login Issue</td>
                            <td><span class="priority-low">Low</span></td>
                            <td>Security</td>
                            <td>05/02/2024 16:45:00</td>
                            <td><button class="btn" onclick="viewTicketDetail('INC-003', 'Low')">Detail</button></td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- Prediction Section -->
            <section id="prediction" class="content-section">
                <h3>Input Data Tiket untuk Prediksi SLA</h3>
                <form id="predictionForm">
                    <div class="form-group">
                        <label for="priority">Prioritas Tiket:</label>
                        <select id="priority" required>
                            <option value="">Pilih Prioritas</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="affected_item">Item yang Terdampak:</label>
                        <input type="text" id="affected_item" placeholder="Contoh: Database Server, Web Application" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="created_time">Waktu Tiket Dibuka:</label>
                        <input type="datetime-local" id="created_time" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="category">Kategori Permasalahan:</label>
                        <select id="category" required>
                            <option value="">Pilih Kategori</option>
                            <option value="infrastructure">Infrastructure</option>
                            <option value="application">Application</option>
                            <option value="security">Security</option>
                            <option value="network">Network</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="time_left">Time Left (dalam jam):</label>
                        <input type="number" id="time_left" placeholder="Sisa waktu sebelum SLA berakhir" min="0" step="0.1" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="on_hold_time">On Hold Time (dalam jam):</label>
                        <input type="number" id="on_hold_time" placeholder="Total waktu on hold" min="0" step="0.1" value="0">
                    </div>
                    
                    <button type="submit" class="btn">
                        <i class="fas fa-brain"></i> Prediksi Status SLA
                    </button>
                </form>

                <div id="predictionResult" class="prediction-result">
                    <h3 id="resultTitle"></h3>
                    <p id="resultDescription"></p>
                    <p><strong>Confidence Score: <span id="confidenceScore"></span>%</strong></p>
                </div>
            </section>

            <!-- Analytics Section -->
            <section id="analytics" class="content-section">
                <h3 style="margin-bottom: 25px; color: #2d3748;">Analitik dan Visualisasi Data</h3>
                
                <div class="chart-grid">
                    <div class="chart-container">
                        <h4>Distribusi Status Tiket</h4>
                        <div style="position: relative; height: 300px;">
                            <canvas id="statusChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <h4>Tingkat Pelanggaran SLA per Kategori</h4>
                        <div style="position: relative; height: 300px;">
                            <canvas id="violationChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <h4>Tren Tiket dan Pelanggaran SLA Bulanan</h4>
                        <div style="position: relative; height: 300px;">
                            <canvas id="trendChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <h4>Fitur Penting Random Forest Model</h4>
                        <div style="position: relative; height: 300px;">
                            <canvas id="featureChart"></canvas>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 30px; padding: 25px; background: rgba(255,255,255,0.95); border-radius: 15px; box-shadow: 0 4px 16px rgba(0,0,0,0.1);">
                    <h4 style="color: #2d3748; margin-bottom: 15px;">Insight Analitik Random Forest:</h4>
                    <ul style="color: #4a5568; line-height: 1.8;">
                        <li><strong>Compliance Rate:</strong> Tingkat kepatuhan SLA mencapai 85.2% dengan kategori Infrastructure memiliki tingkat pelanggaran tertinggi.</li>
                        <li><strong>Faktor Utama:</strong> Priority dan Time Left merupakan faktor paling berpengaruh dalam prediksi pelanggaran SLA.</li>
                        <li><strong>Trend:</strong> Terjadi peningkatan jumlah tiket di bulan Maret-April dengan pola pelanggaran yang cukup stabil.</li>
                        <li><strong>Rekomendasi:</strong> Fokus monitoring pada tiket kategori Infrastructure dengan prioritas High untuk mencegah pelanggaran SLA.</li>
                    </ul>
                </div>

                <!-- CLUSTERING SECTION -->
                <h3 style="margin-top: 40px; margin-bottom: 25px; color: #2d3748;">Analisis Clustering K-Prototypes</h3>
                <p style="color: #4a5568; margin-bottom: 20px; line-height: 1.6;">
                    Hasil clustering menggunakan algoritma K-Prototypes mengidentifikasi 4 pola berbeda dalam penanganan tiket berdasarkan karakteristik waktu, aplikasi, dan kinerja SLA.
                </p>

                <div class="chart-grid">
                    <div class="chart-container">
                        <h4>Perbandingan SLA Compliance Rate per Cluster</h4>
                        <div style="position: relative; height: 300px;">
                            <canvas id="clusterComplianceChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <h4>Average Resolution Time per Cluster</h4>
                        <div style="position: relative; height: 300px;">
                            <canvas id="clusterResolutionChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-container">
                        <h4>Distribusi Aplikasi Dominan per Cluster</h4>
                        <div style="position: relative; height: 300px;">
                            <canvas id="clusterApplicationChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-container">
                        <h4>Days to Due vs Resolution Time</h4>
                        <div style="position: relative; height: 300px;">
                            <canvas id="clusterScatterChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Cluster Details Cards -->
                <div class="cluster-cards-grid">
                    <div class="cluster-card" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                        <h4>üîπ Cluster 0: SIBS Off-Hour</h4>
                        <p><strong>Aplikasi:</strong> SIBS (App 85)</p>
                        <p><strong>SLA Rate:</strong> 36.9%</p>
                        <p><strong>Resolusi:</strong> 5.74 jam</p>
                        <p><strong>Waktu:</strong> Sabtu ‚Üí Jumat</p>
                        <p style="font-size: 0.9rem; opacity: 0.9; margin-top: 10px;">Tiket sistem perbankan di luar jam kerja dengan respon cepat</p>
                    </div>

                    <div class="cluster-card" style="background: linear-gradient(135deg, #48bb78, #38a169);">
                        <h4>üîπ Cluster 1: ETP Regular</h4>
                        <p><strong>Aplikasi:</strong> ETP (App 97)</p>
                        <p><strong>SLA Rate:</strong> 39.2%</p>
                        <p><strong>Resolusi:</strong> 5.48 jam</p>
                        <p><strong>Waktu:</strong> Senin ‚Üí Senin</p>
                        <p style="font-size: 0.9rem; opacity: 0.9; margin-top: 10px;">Tiket reguler jam kerja dengan kinerja stabil dan efisien</p>
                    </div>

                    <div class="cluster-card" style="background: linear-gradient(135deg, #f56565, #c53030);">
                        <h4>üîπ Cluster 2: Network Problem</h4>
                        <p><strong>Aplikasi:</strong> Network (App 268)</p>
                        <p><strong>SLA Rate:</strong> 20.7% ‚ö†Ô∏è</p>
                        <p><strong>Resolusi:</strong> 6.58 jam</p>
                        <p><strong>Waktu:</strong> Selasa ‚Üí Selasa</p>
                        <p style="font-size: 0.9rem; opacity: 0.9; margin-top: 10px;">SLA terburuk - perlu fokus perbaikan dan eskalasi</p>
                    </div>

                    <div class="cluster-card" style="background: linear-gradient(135deg, #f6ad55, #ed8936);">
                        <h4>üîπ Cluster 3: ETP Morning</h4>
                        <p><strong>Aplikasi:</strong> ETP (App 97)</p>
                        <p><strong>SLA Rate:</strong> 39.0%</p>
                        <p><strong>Resolusi:</strong> 5.47 jam</p>
                        <p><strong>Waktu:</strong> Senin pagi (10:00)</p>
                        <p style="font-size: 0.9rem; opacity: 0.9; margin-top: 10px;">Efisiensi tinggi pada awal shift kerja</p>
                    </div>
                </div>

                <!-- Clustering Insights -->
                <div style="margin-top: 30px; padding: 25px; background: rgba(255,255,255,0.95); border-radius: 15px; box-shadow: 0 4px 16px rgba(0,0,0,0.1);">
                    <h4 style="color: #2d3748; margin-bottom: 15px;">üß≠ Insight Clustering K-Prototypes:</h4>
                    <ul style="color: #4a5568; line-height: 1.8;">
                        <li><strong>Cluster Kritis:</strong> Cluster 2 (Network Application) memerlukan perhatian khusus dengan SLA Rate terendah (20.7%) dan waktu resolusi terlama (6.58 jam).</li>
                        <li><strong>Best Practice:</strong> Cluster 1 dan 3 (ETP) menunjukkan pola operasional paling efisien, terutama pada jam kerja normal dan pagi hari - bisa dijadikan benchmark.</li>
                        <li><strong>Off-Hour Pattern:</strong> Cluster 0 (SIBS) menunjukkan respon cepat di luar jam kerja untuk sistem perbankan kritikal, meski SLA compliance masih bisa ditingkatkan.</li>
                        <li><strong>Pola Waktu:</strong> Terdapat korelasi antara waktu pembuatan tiket dan kinerja SLA - tiket yang dibuat pagi hari cenderung diselesaikan lebih cepat.</li>
                        <li><strong>Rekomendasi:</strong> Fokuskan resource tambahan untuk Network Application (Cluster 2) dan optimalkan proses handling di kategori ini untuk meningkatkan SLA compliance.</li>
                    </ul>
                </div>
            </section>

            <!-- About Section -->
            <section id="about" class="content-section">
                <div class="about-content">
                    <h3>Tentang Aplikasi</h3>
                    <p>
                        Sistem Prediksi Pelanggaran SLA adalah aplikasi web yang dirancang untuk membantu 
                        organisasi dalam mengelola tiket insiden dan memprediksi potensi pelanggaran Service Level Agreement (SLA) 
                        menggunakan teknologi Machine Learning.
                    </p>

                    <h3>Tujuan Pengembangan</h3>
                    <p>
                        Aplikasi ini bertujuan untuk meningkatkan efisiensi manajemen insiden dengan memberikan 
                        prediksi dini terhadap tiket yang berpotensi melanggar SLA, sehingga tim IT dapat 
                        mengambil tindakan preventif yang tepat waktu.
                    </p>

                    <h3>Metode yang Digunakan</h3>
                    <ul class="feature-list">
                        <li><strong>Random Forest</strong> - Algoritma klasifikasi untuk prediksi pelanggaran SLA</li>
                        <li><strong>K-Prototypes</strong> - Algoritma clustering untuk pengelompokan insiden</li>
                        <li><strong>Interactive Visualization</strong> - Dashboard interaktif dengan Chart.js</li>
                        <li><strong>Real-time Analysis</strong> - Analisis data tiket secara real-time</li>
                    </ul>

                    <h3>Fitur Utama</h3>
                    <ul class="feature-list">
                        <li>Dashboard interaktif dengan ringkasan status tiket</li>
                        <li>Prediksi pelanggaran SLA dengan confidence score</li>
                        <li>Visualisasi data komprehensif</li>
                        <li>Analitik tingkat pelanggaran per kategori</li>
                        <li>Identifikasi fitur penting yang mempengaruhi SLA</li>
                        <li>Clustering K-Prototypes untuk pola penanganan tiket</li>
                    </ul>

                    <h3>Pengembang Sistem</h3>
                    <p>
                        Sistem ini dikembangkan sebagai bagian dari penelitian untuk meningkatkan 
                        manajemen layanan IT menggunakan pendekatan Machine Learning dan Business Intelligence.
                        Tim pengembang terdiri dari ahli dalam bidang Data Science, Software Engineering, 
                        dan IT Service Management.
                    </p>

                    <h3>Teknologi yang Digunakan</h3>
                    <ul class="feature-list">
                        <li>Frontend: HTML5, CSS3, JavaScript</li>
                        <li>Visualization: Chart.js</li>
                        <li>Machine Learning: Python, Scikit-learn</li>
                        <li>Database: SQL Server / PostgreSQL</li>
                        <li>Framework: Flask / Django (Backend)</li>
                    </ul>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal Detail Tiket -->
    <div id="detailModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Detail Tiket</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>

            <div class="ticket-info" id="ticketInfo">
            </div>

            <div class="detail-grid">
                <div class="detail-item" id="violatedStatus">
                    <h4>SLA Violated</h4>
                    <p id="violatedValue">-</p>
                </div>
                <div class="detail-item">
                    <h4>Prioritas</h4>
                    <p id="priorityValue">-</p>
                </div>
                <div class="detail-item">
                    <h4>Resolution Duration</h4>
                    <p id="resolutionDuration">-</p>
                </div>
                <div class="detail-item">
                    <h4>Total Tickets Resolved (Wc)</h4>
                    <p id="totalResolved">2,847</p>
                </div>
                <div class="detail-item">
                    <h4>SLA Threshold</h4>
                    <p id="slaThreshold">-</p>
                </div>
                <div class="detail-item">
                    <h4>Average Resolution Time (Ac)</h4>
                    <p id="avgResolutionTime">-</p>
                </div>
            </div>

            <div class="detail-grid">
                <div class="detail-item">
                    <h4>SLA to Avg Resolution Ratio (Rc)</h4>
                    <p id="ratioValue">-</p>
                </div>
                <div class="detail-item">
                    <h4>Application SLA Compliance Rate</h4>
                    <p id="complianceRate">-</p>
                </div>
                <div class="detail-item">
                    <h4>Confidence Score</h4>
                    <p id="modalConfidenceScore">-</p>
                </div>
            </div>

            <div class="metrics-section">
                <h3>Informasi Tambahan</h3>
                <div class="metrics-row">
                    <span class="metrics-label">Waktu Dibuka:</span>
                    <span class="metrics-value" id="createdTime">-</span>
                </div>
                <div class="metrics-row">
                    <span class="metrics-label">Waktu Ditutup:</span>
                    <span class="metrics-value" id="closedTime">-</span>
                </div>
                <div class="metrics-row">
                    <span class="metrics-label">Status Tiket:</span>
                    <span class="metrics-value" id="ticketStatus">-</span>
                </div>
                <div class="metrics-row">
                    <span class="metrics-label">Assigned To:</span>
                    <span class="metrics-value" id="assignedTo">-</span>
                </div>
                <div class="metrics-row">
                    <span class="metrics-label">Affected Users:</span>
                    <span class="metrics-value" id="affectedUsers">-</span>
                </div>
                <div class="metrics-row">
                    <span class="metrics-label">Root Cause:</span>
                    <span class="metrics-value" id="rootCause">-</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Navigation functionality
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('.content-section');
            const pageTitle = document.getElementById('page-title');
            const pageDescription = document.getElementById('page-description');

            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetSection = this.getAttribute('data-section');
                    
                    if (!targetSection) return;

                    // Update active nav
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');

                    // Show target section
                    sections.forEach(s => s.classList.remove('active'));
                    document.getElementById(targetSection).classList.add('active');

                    // Update header
                    updateHeader(targetSection);
                });
            });

            // Initialize prediction form
            initializePredictionForm();
            
            // Initialize charts
            initializeCharts();
        });

        function updateHeader(section) {
            const pageTitle = document.getElementById('page-title');
            const pageDescription = document.getElementById('page-description');

            const headers = {
                dashboard: {
                    title: 'Dashboard',
                    description: 'Ringkasan status tiket dan informasi SLA'
                },
                prediction: {
                    title: 'Prediksi SLA',
                    description: 'Input data tiket untuk prediksi pelanggaran SLA'
                },
                analytics: {
                    title: 'Analitik & Visualisasi',
                    description: 'Grafik dan analisis data tiket insiden'
                },
                about: {
                    title: 'Tentang Aplikasi',
                    description: 'Informasi sistem dan metodologi yang digunakan'
                }
            };

            if (headers[section]) {
                pageTitle.textContent = headers[section].title;
                pageDescription.textContent = headers[section].description;
            }
        }

        // Prediction form handling
        function initializePredictionForm() {
            const form = document.getElementById('predictionForm');
            if (form) {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Get form values
                    const priority = document.getElementById('priority').value;
                    const affectedItem = document.getElementById('affected_item').value;
                    const createdTime = document.getElementById('created_time').value;
                    const category = document.getElementById('category').value;
                    const timeLeft = parseFloat(document.getElementById('time_left').value);
                    const onHoldTime = parseFloat(document.getElementById('on_hold_time').value) || 0;
                    
                    // Validate inputs
                    if (!priority || !affectedItem || !createdTime || !category || isNaN(timeLeft)) {
                        alert('Mohon lengkapi semua field yang diperlukan!');
                        return;
                    }
                    
                    // Simulate prediction with Random Forest logic
                    const prediction = predictSLAViolation(priority, category, timeLeft, onHoldTime);
                    showPredictionResult(prediction.violation, prediction.confidence, prediction.factors);
                });
            }
        }

        const ticketData = {
            'INC-001': {
                item: 'Server Database Down',
                priority: 'High',
                category: 'Infrastructure',
                createdTime: '02/01/2024 16:09:00',
                closedTime: '02/01/2024 18:30:00',
                status: 'Closed',
                assignedTo: 'John Doe',
                affectedUsers: 2500,
                rootCause: 'Database server overload due to peak traffic',
                violated: true,
                resolutionDuration: '2 jam 21 menit',
                slaThreshold: '2 jam',
                avgResolutionTime: '2 jam 15 menit',
                ratio: 1.09,
                complianceRate: '82.5%',
                confidenceScore: 87.3
            },
            'INC-002': {
                item: 'Email Service Error',
                priority: 'Medium',
                category: 'Application',
                createdTime: '17/04/2024 18:10:00',
                closedTime: '17/04/2024 21:15:00',
                status: 'Closed',
                assignedTo: 'Jane Smith',
                affectedUsers: 450,
                rootCause: 'SMTP server configuration issue',
                violated: false,
                resolutionDuration: '3 jam 5 menit',
                slaThreshold: '4 jam',
                avgResolutionTime: '3 jam 30 menit',
                ratio: 0.86,
                complianceRate: '88.9%',
                confidenceScore: 91.2
            },
            'INC-003': {
                item: 'Login Issue',
                priority: 'Low',
                category: 'Security',
                createdTime: '05/02/2024 16:45:00',
                closedTime: '05/02/2024 17:30:00',
                status: 'Closed',
                assignedTo: 'Mike Johnson',
                affectedUsers: 125,
                rootCause: 'User authentication cache issue',
                violated: false,
                resolutionDuration: '45 menit',
                slaThreshold: '8 jam',
                avgResolutionTime: '1 jam 20 menit',
                ratio: 0.56,
                complianceRate: '94.2%',
                confidenceScore: 95.7
            }
        };

        function viewTicketDetail(ticketId, priority) {
            const data = ticketData[ticketId];
            if (!data) return;

            document.getElementById('modalTitle').textContent = `Detail Tiket #${ticketId}`;
            document.getElementById('ticketInfo').innerHTML = `
                <p><strong>Item yang Terdampak:</strong> ${data.item}</p>
                <p><strong>Kategori:</strong> ${data.category}</p>
                <div style="margin-top: 10px;">
                    <span class="badge badge-${priority.toLowerCase()}">${priority}</span>
                </div>
            `;

            const violatedDiv = document.getElementById('violatedStatus');
            document.getElementById('violatedValue').textContent = data.violated ? 'Ya' : 'Tidak';
            if (data.violated) {
                violatedDiv.classList.add('violated');
                violatedDiv.classList.remove('safe');
            } else {
                violatedDiv.classList.remove('violated');
                violatedDiv.classList.add('safe');
            }

            document.getElementById('priorityValue').textContent = priority;
            document.getElementById('resolutionDuration').textContent = data.resolutionDuration;
            document.getElementById('slaThreshold').textContent = data.slaThreshold;
            document.getElementById('avgResolutionTime').textContent = data.avgResolutionTime;
            document.getElementById('ratioValue').textContent = data.ratio.toFixed(2);
            document.getElementById('complianceRate').textContent = data.complianceRate;
            document.getElementById('modalConfidenceScore').textContent = data.confidenceScore.toFixed(1) + '%';

            document.getElementById('createdTime').textContent = data.createdTime;
            document.getElementById('closedTime').textContent = data.closedTime;
            document.getElementById('ticketStatus').textContent = data.status;
            document.getElementById('assignedTo').textContent = data.assignedTo;
            document.getElementById('affectedUsers').textContent = data.affectedUsers.toLocaleString('id-ID');
            document.getElementById('rootCause').textContent = data.rootCause;

            document.getElementById('detailModal').classList.add('show');
        }

        function closeModal() {
            document.getElementById('detailModal').classList.remove('show');
        }

        window.onclick = function(event) {
            const modal = document.getElementById('detailModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
            }
        });

        function predictSLAViolation(priority, category, timeLeft, onHoldTime) {
            let violationScore = 0;
            let factors = [];
            
            // Priority factor (35% weight)
            if (priority === 'high') {
                violationScore += 0.35;
                if (timeLeft < 4) {
                    violationScore += 0.20;
                    factors.push('Prioritas tinggi dengan waktu tersisa < 4 jam');
                }
            } else if (priority === 'medium') {
                violationScore += 0.15;
                if (timeLeft < 8) {
                    violationScore += 0.10;
                    factors.push('Prioritas sedang dengan waktu tersisa < 8 jam');
                }
            } else if (priority === 'low') {
                if (timeLeft < 24) {
                    violationScore += 0.05;
                    factors.push('Prioritas rendah dengan waktu tersisa < 24 jam');
                }
            }
            
            // Time Left factor (28% weight)
            if (timeLeft < 2) {
                violationScore += 0.28;
                factors.push('Waktu tersisa sangat kritis (< 2 jam)');
            } else if (timeLeft < 4) {
                violationScore += 0.20;
                factors.push('Waktu tersisa dalam zona bahaya (< 4 jam)');
            } else if (timeLeft < 8) {
                violationScore += 0.10;
                factors.push('Waktu tersisa memerlukan perhatian (< 8 jam)');
            }
            
            // Category factor (18% weight)
            const categoryRisk = {
                'infrastructure': 0.18,
                'security': 0.15,
                'network': 0.12,
                'application': 0.08
            };
            
            if (categoryRisk[category]) {
                violationScore += categoryRisk[category];
                if (category === 'infrastructure') {
                    factors.push('Kategori Infrastructure memiliki risiko pelanggaran tinggi');
                } else if (category === 'security') {
                    factors.push('Kategori Security memerlukan penanganan prioritas');
                }
            }
            
            // On Hold Time factor (12% weight)
            const holdRatio = onHoldTime / Math.max(timeLeft + onHoldTime, 1);
            if (holdRatio > 0.3) {
                violationScore += 0.12;
                factors.push(`Waktu on-hold terlalu tinggi (${(holdRatio*100).toFixed(1)}% dari total waktu)`);
            } else if (holdRatio > 0.15) {
                violationScore += 0.06;
                factors.push(`Waktu on-hold cukup signifikan (${(holdRatio*100).toFixed(1)}% dari total waktu)`);
            }
            
            // Additional risk factors
            if (timeLeft <= onHoldTime) {
                violationScore += 0.15;
                factors.push('Waktu on-hold melebihi waktu tersisa');
            }
            
            // Calculate confidence and final prediction
            const violation = violationScore > 0.5;
            let confidence;
            
            if (violation) {
                confidence = Math.min(95, 60 + (violationScore * 50));
            } else {
                confidence = Math.min(95, 60 + ((1 - violationScore) * 35));
            }
            
            return {
                violation: violation,
                confidence: confidence,
                factors: factors,
                score: violationScore
            };
        }

        function showPredictionResult(violation, confidence, factors) {
            const resultDiv = document.getElementById('predictionResult');
            const resultTitle = document.getElementById('resultTitle');
            const resultDescription = document.getElementById('resultDescription');
            const confidenceScore = document.getElementById('confidenceScore');

            if (violation) {
                resultDiv.className = 'prediction-result prediction-violation';
                resultTitle.innerHTML = '<i class="fas fa-exclamation-triangle"></i> BERPOTENSI MELANGGAR SLA';
                resultDescription.innerHTML = `
                    <p><strong>Tiket ini diprediksi akan melanggar SLA. Segera ambil tindakan preventif!</strong></p>
                    <div style="margin-top: 15px;">
                        <h4 style="color: #c53030; margin-bottom: 10px;">Faktor Risiko:</h4>
                        <ul style="text-align: left; margin: 0; padding-left: 20px;">
                            ${factors.map(factor => `<li style="margin-bottom: 5px;">${factor}</li>`).join('')}
                        </ul>
                    </div>
                    <div style="margin-top: 15px;">
                        <h4 style="color: #c53030; margin-bottom: 10px;">Rekomendasi Tindakan:</h4>
                        <ul style="text-align: left; margin: 0; padding-left: 20px;">
                            <li>Eskalasi ke tim senior atau manager</li>
                            <li>Alokasikan resource tambahan</li>
                            <li>Koordinasi dengan stakeholder terkait</li>
                            <li>Monitor progress secara intensif</li>
                        </ul>
                    </div>
                `;
            } else {
                resultDiv.className = 'prediction-result prediction-safe';
                resultTitle.innerHTML = '<i class="fas fa-check-circle"></i> TIDAK MELANGGAR SLA';
                resultDescription.innerHTML = `
                    <p><strong>Tiket ini diprediksi akan selesai dalam batas waktu SLA yang ditentukan.</strong></p>
                    ${factors.length > 0 ? `
                    <div style="margin-top: 15px;">
                        <h4 style="color: #38a169; margin-bottom: 10px;">Catatan Perhatian:</h4>
                        <ul style="text-align: left; margin: 0; padding-left: 20px;">
                            ${factors.map(factor => `<li style="margin-bottom: 5px;">${factor}</li>`).join('')}
                        </ul>
                    </div>
                    ` : ''}
                    <div style="margin-top: 15px;">
                        <h4 style="color: #38a169; margin-bottom: 10px;">Rekomendasi:</h4>
                        <ul style="text-align: left; margin: 0; padding-left: 20px;">
                            <li>Lanjutkan penanganan sesuai prosedur standar</li>
                            <li>Monitor perkembangan secara berkala</li>
                            <li>Dokumentasikan solusi untuk knowledge base</li>
                        </ul>
                    </div>
                `;
            }

            confidenceScore.textContent = confidence.toFixed(1);
            resultDiv.style.display = 'block';
            
            // Smooth scroll to result
            resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        // Initialize charts
        function initializeCharts() {
            setTimeout(() => {
                // Status Chart - Doughnut
                const statusCtx = document.getElementById('statusChart');
                if (statusCtx) {
                    new Chart(statusCtx.getContext('2d'), {
                        type: 'doughnut',
                        data: {
                            labels: ['Open', 'In Progress', 'Closed'],
                            datasets: [{
                                data: [45, 55, 56],
                                backgroundColor: ['#f56565', '#f6ad55', '#48bb78'],
                                borderWidth: 2,
                                borderColor: '#fff'
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    position: 'bottom',
                                    labels: {
                                        padding: 20,
                                        usePointStyle: true
                                    }
                                }
                            }
                        }
                    });
                }

                // Violation Chart - Bar
                const violationCtx = document.getElementById('violationChart');
                if (violationCtx) {
                    new Chart(violationCtx.getContext('2d'), {
                        type: 'bar',
                        data: {
                            labels: ['Infrastructure', 'Application', 'Security', 'Network'],
                            datasets: [{
                                label: 'Pelanggaran SLA',
                                data: [8, 12, 3, 5],
                                backgroundColor: 'rgba(102, 126, 234, 0.8)',
                                borderColor: '#667eea',
                                borderWidth: 2,
                                borderRadius: 8
                            }, {
                                label: 'Total Tiket',
                                data: [25, 40, 15, 20],
                                backgroundColor: 'rgba(118, 75, 162, 0.3)',
                                borderColor: '#764ba2',
                                borderWidth: 2,
                                borderRadius: 8
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    position: 'top',
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    grid: {
                                        color: 'rgba(0,0,0,0.1)'
                                    }
                                },
                                x: {
                                    grid: {
                                        display: false
                                    }
                                }
                            }
                        }
                    });
                }

                // Trend Chart - Line
                const trendCtx = document.getElementById('trendChart');
                if (trendCtx) {
                    new Chart(trendCtx.getContext('2d'), {
                        type: 'line',
                        data: {
                            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                            datasets: [{
                                label: 'Total Tiket',
                                data: [65, 59, 80, 81, 56, 75],
                                borderColor: '#667eea',
                                backgroundColor: 'rgba(102, 126, 234, 0.1)',
                                borderWidth: 3,
                                tension: 0.4,
                                fill: true,
                                pointBackgroundColor: '#667eea',
                                pointBorderColor: '#fff',
                                pointBorderWidth: 2,
                                pointRadius: 6
                            }, {
                                label: 'Pelanggaran SLA',
                                data: [8, 12, 15, 9, 6, 11],
                                borderColor: '#f56565',
                                backgroundColor: 'rgba(245, 101, 101, 0.1)',
                                borderWidth: 3,
                                tension: 0.4,
                                fill: true,
                                pointBackgroundColor: '#f56565',
                                pointBorderColor: '#fff',
                                pointBorderWidth: 2,
                                pointRadius: 6
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    position: 'top',
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    grid: {
                                        color: 'rgba(0,0,0,0.1)'
                                    }
                                },
                                x: {
                                    grid: {
                                        color: 'rgba(0,0,0,0.05)'
                                    }
                                }
                            },
                            interaction: {
                                intersect: false,
                                mode: 'index'
                            }
                        }
                    });
                }

                // Feature Importance Chart - Horizontal Bar
                const featureCtx = document.getElementById('featureChart');
                if (featureCtx) {
                    new Chart(featureCtx.getContext('2d'), {
                        type: 'bar',
                        data: {
                            labels: ['Priority', 'Time Left', 'Category', 'On Hold Time', 'Affected Item'],
                            datasets: [{
                                label: 'Importance Score',
                                data: [0.35, 0.28, 0.18, 0.12, 0.07],
                                backgroundColor: [
                                    'rgba(118, 75, 162, 0.8)',
                                    'rgba(102, 126, 234, 0.8)',
                                    'rgba(245, 101, 101, 0.8)',
                                    'rgba(246, 173, 85, 0.8)',
                                    'rgba(72, 187, 120, 0.8)'
                                ],
                                borderColor: [
                                    '#764ba2',
                                    '#667eea',
                                    '#f56565',
                                    '#f6ad55',
                                    '#48bb78'
                                ],
                                borderWidth: 2,
                                borderRadius: 8
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            indexAxis: 'y',
                            plugins: {
                                legend: {
                                    display: false
                                }
                            },
                            scales: {
                                x: {
                                    beginAtZero: true,
                                    max: 0.4,
                                    grid: {
                                        color: 'rgba(0,0,0,0.1)'
                                    },
                                    ticks: {
                                        callback: function(value) {
                                            return (value * 100).toFixed(0) + '%';
                                        }
                                    }
                                },
                                y: {
                                    grid: {
                                        display: false
                                    }
                                }
                            }
                        }
                    });
                }

                // Initialize Clustering Charts
                initializeClusteringCharts();
            }, 100);
        }

        // Initialize Clustering Charts
        function initializeClusteringCharts() {
            // Cluster Compliance Chart
            const clusterComplianceCtx = document.getElementById('clusterComplianceChart');
            if (clusterComplianceCtx) {
                new Chart(clusterComplianceCtx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['Cluster 0\n(SIBS Off-Hour)', 'Cluster 1\n(ETP Regular)', 'Cluster 2\n(Network)', 'Cluster 3\n(ETP Morning)'],
                        datasets: [{
                            label: 'SLA Compliance Rate',
                            data: [36.87, 39.24, 20.67, 38.98],
                            backgroundColor: [
                                'rgba(102, 126, 234, 0.8)',
                                'rgba(72, 187, 120, 0.8)',
                                'rgba(245, 101, 101, 0.8)',
                                'rgba(246, 173, 85, 0.8)'
                            ],
                            borderColor: [
                                '#667eea',
                                '#48bb78',
                                '#f56565',
                                '#f6ad55'
                            ],
                            borderWidth: 2,
                            borderRadius: 8
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return 'SLA Rate: ' + context.parsed.y.toFixed(2) + '%';
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 50,
                                grid: {
                                    color: 'rgba(0,0,0,0.1)'
                                },
                                ticks: {
                                    callback: function(value) {
                                        return value + '%';
                                    }
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }

            // Cluster Resolution Time Chart
            const clusterResolutionCtx = document.getElementById('clusterResolutionChart');
            if (clusterResolutionCtx) {
                new Chart(clusterResolutionCtx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['Cluster 0\n(SIBS)', 'Cluster 1\n(ETP)', 'Cluster 2\n(Network)', 'Cluster 3\n(ETP)'],
                        datasets: [{
                            label: 'Avg Resolution Time (hours)',
                            data: [5.74, 5.48, 6.58, 5.47],
                            backgroundColor: [
                                'rgba(102, 126, 234, 0.8)',
                                'rgba(72, 187, 120, 0.8)',
                                'rgba(245, 101, 101, 0.8)',
                                'rgba(246, 173, 85, 0.8)'
                            ],
                            borderColor: [
                                '#667eea',
                                '#48bb78',
                                '#f56565',
                                '#f6ad55'
                            ],
                            borderWidth: 2,
                            borderRadius: 8
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return 'Avg Time: ' + context.parsed.y.toFixed(2) + ' hours';
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 8,
                                grid: {
                                    color: 'rgba(0,0,0,0.1)'
                                },
                                ticks: {
                                    callback: function(value) {
                                        return value + 'h';
                                    }
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }

            // Application Distribution Chart
            const clusterApplicationCtx = document.getElementById('clusterApplicationChart');
            if (clusterApplicationCtx) {
                new Chart(clusterApplicationCtx.getContext('2d'), {
                    type: 'doughnut',
                    data: {
                        labels: ['SIBS (App 85)', 'ETP (App 97)', 'Network (App 268)', 'ETP Morning (App 97)'],
                        datasets: [{
                            data: [25, 35, 15, 25],
                            backgroundColor: [
                                'rgba(102, 126, 234, 0.8)',
                                'rgba(72, 187, 120, 0.8)',
                                'rgba(245, 101, 101, 0.8)',
                                'rgba(246, 173, 85, 0.8)'
                            ],
                            borderWidth: 2,
                            borderColor: '#fff'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 15,
                                    usePointStyle: true
                                }
                            }
                        }
                    }
                });
            }

            // Scatter Plot - Days to Due vs Resolution Time
            const clusterScatterCtx = document.getElementById('clusterScatterChart');
            if (clusterScatterCtx) {
                new Chart(clusterScatterCtx.getContext('2d'), {
                    type: 'scatter',
                    data: {
                        datasets: [{
                            label: 'Cluster 0 (SIBS)',
                            data: [
                                {x: 0.10, y: 5.74},
                                {x: 0.11, y: 5.65},
                                {x: 0.09, y: 5.82}
                            ],
                            backgroundColor: 'rgba(102, 126, 234, 0.8)',
                            borderColor: '#667eea',
                            pointRadius: 8
                        }, {
                            label: 'Cluster 1 (ETP Regular)',
                            data: [
                                {x: 0.13, y: 5.48},
                                {x: 0.14, y: 5.42},
                                {x: 0.12, y: 5.55}
                            ],
                            backgroundColor: 'rgba(72, 187, 120, 0.8)',
                            borderColor: '#48bb78',
                            pointRadius: 8
                        }, {
                            label: 'Cluster 2 (Network)',
                            data: [
                                {x: 0.14, y: 6.58},
                                {x: 0.15, y: 6.45},
                                {x: 0.13, y: 6.70}
                            ],
                            backgroundColor: 'rgba(245, 101, 101, 0.8)',
                            borderColor: '#f56565',
                            pointRadius: 8
                        }, {
                            label: 'Cluster 3 (ETP Morning)',
                            data: [
                                {x: 0.15, y: 5.47},
                                {x: 0.14, y: 5.40},
                                {x: 0.16, y: 5.52}
                            ],
                            backgroundColor: 'rgba(246, 173, 85, 0.8)',
                            borderColor: '#f6ad55',
                            pointRadius: 8
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15
                                }
                            }
                        },
                        scales: {
                            x: {
                                title: {
                                    display: true,
                                    text: 'Days to Due',
                                    font: {
                                        weight: 'bold'
                                    }
                                },
                                grid: {
                                    color: 'rgba(0,0,0,0.1)'
                                }
                            },
                            y: {
                                title: {
                                    display: true,
                                    text: 'Avg Resolution Time (hours)',
                                    font: {
                                        weight: 'bold'
                                    }
                                },
                                grid: {
                                    color: 'rgba(0,0,0,0.1)'
                                }
                            }
                        }
                    }
                });
            }
        }
    </script>
</body>
</html> '